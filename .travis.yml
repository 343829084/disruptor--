language: c++
os: linux
sudo: false

matrix:
  include:

    - env: COMPILER=clang CLANG_VERSION=3.5
      addons: &clang35
        apt:
          packages:
            - clang-3.5
            - valgrind
            - libboost-all-dev
          sources:
            - ubuntu-toolchain-r-test
            - llvm-toolchain-precise-3.5

    - env: COMPILER=clang CLANG_VERSION=3.6
      addons: &clang36
        apt:
          packages:
            - clang-3.6
            - valgrind
            - libboost-all-dev
          sources:
            - ubuntu-toolchain-r-test
            - llvm-toolchain-precise-3.6

install:
  - cd ${TRAVIS_BUILD_DIR} && tools/deps
script:
  - cd ${TRAVIS_BUILD_DIR} && tools/test
after_success:
  - cd ${TRAVIS_BUILD_DIR} && tools/coverage
